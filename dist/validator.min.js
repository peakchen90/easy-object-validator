!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.validator=e()}(this,function(){"use strict";function n(t){return Object.prototype.toString.call(t).slice(0,-1).slice(8).toLowerCase()}function r(){var n=this;if(!(this instanceof r))throw new Error("Validate should be called with the `new` keyword");this.$validRules=[],this.$flag=!1,this.doValidate=function(e){n.value=e;var t=n.$validRules.every(function(t){return"array"===r.type(t)?t.some(function(t){return t.doValidate(e)}):t()});return n.$flag?!t:t}}r.type=n,r.prototype={string:function(){return this.is("string")},number:function(){return this.is("number")},object:function(){return this.is("object")},array:function(){return this.is("array")},boolean:function(){return this.is("boolean")},isRequire:function(){var t=this;return this.$validRules.push(function(){return null!=t.value&&""!==t.value}),this},length:function(t){var e=this;return this.$validRules.push(function(){return e.value&&e.value.length===t}),this},test:function(t){var e=this;return this.$validRules.push(function(){return t.test(e.value)}),this},is:function(t){var e=this;return this.$validRules.push(function(){return n(e.value)===t}),this},not:function(){return this.$flag=!this.$flag,this},arrayOf:function(e){var t=this;if(!(e instanceof r))throw new TypeError("The parameter must be a instance of Validate");return this.$validRules.push(function(){return"array"===n(t.value)&&t.value.every(function(t){return e.doValidate(t)})}),this},oneOf:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.every(function(t){return t instanceof r}))throw new TypeError("The parameter must be a instance of Validate");return this.$validRules.push(e),this},reset:function(){return this.$validRules=[],this.$flag=!1,this}};var u=r;function o(r,i){var t=!1;return"object"===u.type(r)&&(t=Object.keys(i).every(function(t){var e=r[t],n=i[t];if(n instanceof u)return n.doValidate(e);if("object"===u.type(n))return o(e,n);throw new TypeError("The validator of "+t+" is not a right validator")})),t}var i=["extend","arguments","caller","length","prototype","apply","bind","call","toString","toLocaleString","name","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","valueOf","$flag","$validRules","doValidate","value"];return o.extend=function(n){Object.keys(n).forEach(function(t){if(i.includes(t))throw new Error("The arrt `"+t+"` is reserved keyword");var e=n[t];if("function"!==u.type(e))throw new TypeError("The validate func must be a function");Object.defineProperty(u.prototype,t,{value:function(){var t=this;return this.$validRules.push(function(){return e(t.value)}),this},configurable:!0,enumerable:!1}),o[t]=function(){return(new u)[t]()}})},o.string=function(){return(new u).string()},o.number=function(){return(new u).number()},o.object=function(){return(new u).object()},o.array=function(){return(new u).array()},o.boolean=function(){return(new u).boolean()},o.isRequire=function(){return(new u).isRequire()},o.test=function(t){return(new u).test(t)},o.is=function(t){return(new u).is(t)},o.not=function(){return(new u).not()},o.arrayOf=function(t){return(new u).arrayOf(t)},o.oneOf=function(){var t;return(t=new u).oneOf.apply(t,arguments)},o.reset=function(){return(new u).reset()},o});
