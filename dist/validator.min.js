!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.validator=n()}(this,function(){"use strict";function e(t){return Object.prototype.toString.call(t).slice(0,-1).slice(8).toLowerCase()}function t(){var e=this;if(!this instanceof t)throw new Error("Validate should be called with the `new` keyword");this.$validRules=[],this.$flag=!1,this.$doValidate=function(t){e.value=t;var n=e.$validRules.every(function(t){return t()});return e.$flag?!n:n}}t.type=e,t.prototype={string:function(){return this.is("string")},number:function(){return this.is("number")},object:function(){return this.is("object")},array:function(){return this.is("array")},boolean:function(){return this.is("boolean")},isRequire:function(){var t=this;return this.$validRules.push(function(){return null!=t.value&&""!==t.value}),this},length:function(t){var n=this;return this.$validRules.push(function(){return n.value&&n.value.length===t}),this},test:function(t){var n=this;return this.$validRules.push(function(){return t.test(n.value)}),this},is:function(t){var n=this;return this.$validRules.push(function(){return e(n.value)===t}),this},not:function(){return this.$flag=!this.$flag,this}};var u=t;function o(r,i){var t=!1;return"object"===u.type(r)&&(t=Object.keys(i).every(function(t){var n=r[t],e=i[t];if(e instanceof u)return e.$doValidate(n);if("object"===u.type(e))return o(n,e);throw new TypeError("The validator of "+t+" is not a right validator")})),t}return o.extend=function(e){Object.keys(e).forEach(function(t){var n=e[t];if("function"!==u.type(n))throw new TypeError("validateFn must be a function");Object.defineProperty(u.prototype,t,{value:function(){var t=this;return this.$validRules.push(function(){return n(t.value)}),this},configurable:!0,enumerable:!1}),o[t]=function(){return(new u)[t]()}})},o.string=function(){return(new u).string()},o.number=function(){return(new u).number()},o.object=function(){return(new u).object()},o.array=function(){return(new u).array()},o.boolean=function(){return(new u).boolean()},o.isRequire=function(){return(new u).isRequire()},o.test=function(t){return(new u).test(t)},o});
