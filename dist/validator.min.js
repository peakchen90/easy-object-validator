!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.validator=t()}(this,function(){"use strict";function n(e){return Object.prototype.toString.call(e).slice(0,-1).slice(8).toLowerCase()}function r(){var n=this;if(!(this instanceof r))throw new Error("Validate should be called with the `new` keyword");this.$validRules=[],this.$isOpposite=!1,this.$isRequire=!1,this.doValidate=function(t){n.value=t;var e=n.$validRules.every(function(e){return"array"===r.type(e)?e.some(function(e){return e.doValidate(t)}):!(n.$isRequire||null!=n.value&&""!==n.value)||e()});return n.$isOpposite?!e:e}}r.type=n,r.prototype={string:function(){return this.is("string")},number:function(){return this.is("number")},object:function(){return this.is("object")},array:function(){return this.is("array")},boolean:function(){return this.is("boolean")},isRequire:function(){var e=this;return this.$isRequire=!0,this.$validRules.push(function(){return null!=e.value&&""!==e.value}),this},length:function(e){var t=this;return this.$validRules.push(function(){return t.value&&t.value.length===e}),this},test:function(e){var t=this;return this.$validRules.push(function(){return e.test(t.value)}),this},is:function(e){var t=this;return this.$validRules.push(function(){return n(t.value)===e}),this},equals:function(e){var t=this;return this.$validRules.push(function(){return t.value===e}),this},not:function(){return this.$isOpposite=!this.$isOpposite,this},arrayOf:function(t){var e=this;if(!(t instanceof r))throw new TypeError("The parameter must be a instance of Validate");return this.$validRules.push(function(){return"array"===n(e.value)&&e.value.every(function(e){return t.doValidate(e)})}),this},oneOf:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.every(function(e){return e instanceof r}))throw new TypeError("The parameter must be a instance of Validate");return this.$validRules.push(t),this},enums:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.$validRules.push(function(){return n.includes(e.value)}),this},reset:function(){return this.$validRules=[],this.$isOpposite=!1,this.$isRequire=!1,this}};var u=r;function o(r,i){var e=!1;return"object"===u.type(r)&&(e=Object.keys(i).every(function(e){var t=r[e],n=i[e];if(n instanceof u)return n.doValidate(t);if("object"===u.type(n))return o(t,n);throw new TypeError("The validator of "+e+" is not a right validator")})),e}var i=["extend","arguments","caller","length","prototype","apply","bind","call","toString","toLocaleString","name","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","valueOf","$flag","$validRules","doValidate","value"];return o.extend=function(n){Object.keys(n).forEach(function(e){if(i.includes(e))throw new Error("The arrt `"+e+"` is reserved keyword");var t=n[e];if("function"!==u.type(t))throw new TypeError("The validate func must be a function");Object.defineProperty(u.prototype,e,{value:function(){var e=this;return this.$validRules.push(function(){return t(e.value)}),this},configurable:!0,enumerable:!1}),o[e]=function(){return(new u)[e]()}})},o.string=function(){return(new u).string()},o.number=function(){return(new u).number()},o.object=function(){return(new u).object()},o.array=function(){return(new u).array()},o.boolean=function(){return(new u).boolean()},o.isRequire=function(){return(new u).isRequire()},o.test=function(e){return(new u).test(e)},o.is=function(e){return(new u).is(e)},o.equals=function(e){return(new u).equals(e)},o.not=function(){return(new u).not()},o.arrayOf=function(e){return(new u).arrayOf(e)},o.oneOf=function(){var e;return(e=new u).oneOf.apply(e,arguments)},o.enums=function(){var e;return(e=new u).enums.apply(e,arguments)},o.reset=function(){return(new u).reset()},o});
