!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.validator=e()}(this,function(){"use strict";function n(t){return Object.prototype.toString.call(t).slice(0,-1).slice(8).toLowerCase()}function t(){var n=this;if(!this instanceof t)throw new Error("Validate should be called with the `new` keyword");this.$validRules=[],this.$flag=!1,this.$doValidate=function(t){n.value=t;var e=n.$validRules.every(function(t){return t()});return n.$flag?!e:e}}t.type=n,t.prototype={string:function(){return this.is("string")},number:function(){return this.is("number")},object:function(){return this.is("object")},array:function(){return this.is("array")},boolean:function(){return this.is("boolean")},isRequire:function(){var t=this;return this.$validRules.push(function(){return null!=t.value&&""!==t.value}),this},length:function(t){var e=this;return this.$validRules.push(function(){return e.value&&e.value.length===t}),this},test:function(t){var e=this;return this.$validRules.push(function(){return t.test(e.value)}),this},is:function(t){var e=this;return this.$validRules.push(function(){return n(e.value)===t}),this},not:function(){return this.$flag=!this.$flag,this}};var u=t;function o(r,i){var t=!1;return"object"===u.type(r)&&(t=Object.keys(i).every(function(t){var e=r[t],n=i[t];if(n instanceof u)return n.$doValidate(e);if("object"===u.type(n))return o(e,n);throw new TypeError("The validator of "+t+" is not a right validator")})),t}var r=["extend","arguments","caller","length","prototype","apply","bind","call","toString","toLocaleString","name","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","valueOf","$flag","validRules","$doValidate","value"];return o.extend=function(n){Object.keys(n).forEach(function(t){if(r.includes(t))throw new Error("The arrt `"+t+"` is reserved keyword");var e=n[t];if("function"!==u.type(e))throw new TypeError("validateFn must be a function");Object.defineProperty(u.prototype,t,{value:function(){var t=this;return this.$validRules.push(function(){return e(t.value)}),this},configurable:!0,enumerable:!1}),o[t]=function(){return(new u)[t]()}})},o.string=function(){return(new u).string()},o.number=function(){return(new u).number()},o.object=function(){return(new u).object()},o.array=function(){return(new u).array()},o.boolean=function(){return(new u).boolean()},o.isRequire=function(){return(new u).isRequire()},o.test=function(t){return(new u).test(t)},o.is=function(t){return(new u).is(t)},o.not=function(){return(new u).not()},o});
